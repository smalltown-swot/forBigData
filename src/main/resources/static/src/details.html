<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>案例详情</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            background-color: #f5f5f5;
        }
        .container {
            width: 60%; /* 调整宽度，使两边的空白区域共占40% */
            padding: 20px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            min-height: 695px;
            height: auto;
        }
        .case-details {
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 20px;
            background-color: #ffffff;
            min-height: 650px;
            height: auto;
        }
        .case-title {
            font-size: 30px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }
        .case-info {
            text-align: center;
            font-size: 15px;
            margin-bottom: 20px;
        }
        .case-info-p {
            font-size: 15px;
            margin-bottom: 20px;
            text-indent: 2em;
        }
        .case-content {
            margin-top: 20px;
            text-indent: 2em;
            text-align: left;
            font-size: 16px;
        }
    </style>
</head>

<body>
<div class="container">
    <div id="case-details" class="case-details"></div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const params = new URLSearchParams(window.location.search);
        const caseId = params.get('caseId');

        if (caseId) {
            fetchCaseDetails(caseId);
        } else {
            document.getElementById('case-details').innerHTML = '<p>未找到相关的案件详情。</p>';
        }

        function fetchCaseDetails(caseId) {
            fetch(`http://124.220.133.42:8089/law/id/${encodeURIComponent(caseId)}`)
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    displayCaseDetails(data["laws"]["0"]);
                    console.log(222);
                })
                .catch(error => {
                    console.error('获取案件详情时出错：', error);
                    document.getElementById('case-details').innerHTML = '<p>获取案件详情时出错。</p>';
                });
        }

        function displayCaseDetails(details) {
            const caseDetailsDiv = document.getElementById('case-details');
            const caseContent = details.text.replace(/\r\n/g, '<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');


            caseDetailsDiv.innerHTML = `<div class="case-title">案件名称：${details.caseName}</div>
                                        <div class="case-info">
                                            案件号：${details.caseId} | 法院：${details.court} | 案由：${details.causeOfAction}
                                        </div>

                                        <div class="case-content">
                                            ${caseContent}
                                        </div>`;
        }
    });
</script>
</body>
</html>
